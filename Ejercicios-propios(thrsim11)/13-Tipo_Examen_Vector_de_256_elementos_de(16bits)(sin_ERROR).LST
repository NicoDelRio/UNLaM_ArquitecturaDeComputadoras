  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       1

                   ; 13-Tipo_Examen_Vector_de_256_elementos_de(16bits)(sin_
.                  ERROR)
                   ; SIN ERROR EN LAS VARIABLES.
                   ; SI LOS 256 ELEMENTOS DEL VECTOR CUMPLIRIAN UNA/VARIAS DE
.                  LAS CONDICIONES (ACUM = 00)

                   * Dado un vector de 256 elementos, obtener la cantidad de
.                  negativos,
                   * multiplos de 8 y nulos del mismo
                   * Se conoce la direccion inicial

                   * En el juego de prueba repito 32 veces los mismos valores
.                  (08,04,02,01,$81,$82,$80,$00), por tanto hay:
                   * - 32 ceros (20h)
                   * - 96 negativos (60h)
                   * - 96 multiplos de ocho (60h)

                   * Recordar que cero es mltiplo de 8 y los negativos pueden
.                  ser mltiplos de 8
                   *************************************************************
.                  **********************************************
                   * IMPORTANTE: Para simular este ejercicio debe cambiar la
.                  configuracion de la memoria
                   * View->Memory->Memory configuration. Cerrar todo, establezca
.                  el rea de RAMOEnd de 00FF a (por ejemplo) 02FF.
                   *************************************************************
.                  **********************************************

                   ; CONSTANTES
                   RAM                     EQU             $0000
                   ROM                     EQU             $8000
                   CICLOS                  EQU             256
.                  ; CANTIDAD DE ELEMENTOS DEL VECTOR
                   MULTIPLO                EQU             8

                   ; VARIABLES
                                           ORG             RAM
                   cantC                   RMB             2
.                  * ceros
                   cantN                   RMB             2
.                  * negativos
                   cantO                   RMB             2
.                  * multiplos de ocho

                   *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *********************
                   ; VECTOR IDEM AL EJER 11 CARGADO CON DW (CON ESTE VECTOR, NO
.                  HAY NUMEROS NEGATIVOS PORQUE EL "$81,$82,$80" QUEDA EN EL
.                  BYTE MENOS SIGNIFICATIVO). SI COINCIDEN LA CANTIDAD DE CEROS
.                  Y MULTIPLOS DE 8.
                   ;vector                 DW              08,04,02,01,$81,$82,
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       2

.                  $80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,
.                  $00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,
.                  08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,
.                  04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,
.                  02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,
.                  01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,
.                  $81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,
.                  $82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,
.                  $80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,
.                  $00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,
.                  08,04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,
.                  04,02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,
.                  02,01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,
.                  01,$81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00,08,04,02,01,
.                  $81,$82,$80,$00,08,04,02,01,$81,$82,$80,$00
                   *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *********************
                   ; VECTOR IDEM AL EJER 11 CARGADO CON DB (CON "$00," ANTES DE
.                  CADA VALOR) (POR SER CADA ELEMENTO DE 2 BYTES)
                   ;vector         DB              $00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00
                   ;               DB              $00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       3

                   ;               DB              $00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00,$00,08,$00,04,$00,02,$00,01,
.                  $00,$81,$00,$82,$00,$80,$00,$00
                   *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *********************
                   ; VECTOR IDEM AL EJER 11 CARGADO CON DW (REEMPLAZANDO LOS
.                  "$81,$82,$80" POR "$8001,$8002,$8000". COINCIDEN LAS TRES
.                  CANTIDAD (CEROS, NEGATIVOS Y MULTIPLOS DE 8).
                   ;vector         DW              08,04,02,01,$8001,$8002,
.                  $8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,
.                  $8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,
.                  04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,
.                  $00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,
.                  $8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,
.                  01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,
.                  08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,
.                  $8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,
.                  $8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,
.                  04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,
.                  $00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,
.                  $8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,
.                  01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,
.                  08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,
.                  $8000,$00,08,04,02,01,$8001,$8002,$8000,$00
                   ;               DW              08,04,02,01,$8001,$8002,
.                  $8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,04,02,01,
.                  $8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,$00,08,
.                  04,02,01,$8001,$8002,$8000,$00,08,04,02,01,$8001,$8002,$8000,
.                  $00
                   *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *********************
                   ; VECTOR IDEM AL EJER 11 CARGADO CON DW "TODOS NEGATIVOS".
.                  (EMPEZANDO CON "$80")
                   ; SIN ERROR EN "cantN" POR SER LOS 256 ELEMENTOS DEL VECTOR
.                  NEGATIVOS (cantN = 01 , cantN+1 = 00)
  0006 80 08 80 04 vector          DW              $8008,$8004,$8002,$8001,
. 000A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       4

. 000E 80 4C 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0012 80 80 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,
. 0016 80 08 80 00 $8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,
. 001A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 001E 80 81 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0022 80 20 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,
. 0026 80 08 80 04 $8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,
. 002A 80 02 80 00 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 002E 80 81 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0032 80 80 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,
. 0036 80 30 80 04 $8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,
. 003A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 003E 80 81 80 20 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000
. 0042 80 80 80 00
. 0046 80 08 80 04
. 004A 80 30 80 01
. 004E 80 81 80 82
. 0052 80 80 80 00
. 0056 80 08 80 04
. 005A 80 02 80 01
. 005E 80 80 80 82
. 0062 80 80 80 00
. 0066 80 08 80 00
. 006A 80 02 80 01
. 006E 80 81 80 82
. 0072 80 80 80 00
. 0076 80 08 80 04
. 007A 80 02 80 30
. 007E 80 81 80 82
. 0082 80 80 80 00
. 0086 80 01 80 04
. 008A 80 02 80 01
. 008E 80 81 80 20
. 0092 80 80 80 00
. 0096 80 08 80 04
. 009A 80 01 80 01
. 009E 80 81 80 82
. 00A2 80 80 80 20
. 00A6 80 08 80 04
. 00AA 80 02 80 01
. 00AE 80 81 80 82
. 00B2 80 80 80 00
. 00B6 80 08 80 04
. 00BA 80 02 80 01
. 00BE 80 81 80 82
. 00C2 80 38 80 00
. 00C6 80 08 80 04
. 00CA 80 02 80 02
. 00CE 80 81 80 82
. 00D2 80 80 80 00
. 00D6 80 20 80 04
. 00DA 80 02 80 01
. 00DE 80 81 80 02
. 00E2 80 80 80 00
. 00E6 80 08 80 04
. 00EA 80 30 80 01
. 00EE 80 81 80 82
. 00F2 80 80 80 30
. 00F6 80 08 80 04
. 00FA 80 02 80 01
. 00FE 80 30 80 82
. 0102 80 80 80 00
. 0106 80 08 80 30
. 010A 80 02 80 01
. 010E 80 81 80 82
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       5

. 0112 80 81 80 00
. 0116 80 08 80 04
. 011A 80 02 80 20
. 011E 80 81 80 82
. 0122 80 80 80 00
  0126 80 08 80 04                 DW              $8008,$8004,$8002,$8001,
. 012A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 012E 80 81 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0132 80 80 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,
. 0136 80 08 80 04 $8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,
. 013A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 013E 80 81 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0142 80 80 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,
. 0146 80 08 80 04 $8002,$8001,$8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,
. 014A 80 02 80 01 $8081,$8082,$8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,
. 014E 80 81 80 82 $8080,$8000,$8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000,
. 0152 80 80 80 00 $8008,$8004,$8002,$8001,$8081,$8082,$8080,$8000
. 0156 80 08 80 04
. 015A 80 02 80 01
. 015E 80 81 80 82
. 0162 80 80 80 00
. 0166 80 08 80 04
. 016A 80 02 80 01
. 016E 80 81 80 82
. 0172 80 80 80 00
. 0176 80 08 80 04
. 017A 80 02 80 01
. 017E 80 81 80 82
. 0182 80 80 80 00
. 0186 80 08 80 04
. 018A 80 02 80 01
. 018E 80 81 80 82
. 0192 80 80 80 00
. 0196 80 08 80 04
. 019A 80 02 80 01
. 019E 80 81 80 82
. 01A2 80 80 80 00
. 01A6 80 08 80 04
. 01AA 80 02 80 01
. 01AE 80 81 80 82
. 01B2 80 80 80 00
. 01B6 80 08 80 04
. 01BA 80 02 80 01
. 01BE 80 81 80 82
. 01C2 80 80 80 00
. 01C6 80 08 80 04
. 01CA 80 02 80 01
. 01CE 80 81 80 82
. 01D2 80 80 80 00
. 01D6 80 08 80 04
. 01DA 80 02 80 01
. 01DE 80 81 80 82
. 01E2 80 80 80 00
. 01E6 80 08 80 04
. 01EA 80 02 80 01
. 01EE 80 81 80 82
. 01F2 80 80 80 00
. 01F6 80 08 80 04
. 01FA 80 02 80 01
. 01FE 80 81 80 82
. 0202 80 80 80 00
                   *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       6

.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *************************************************************
.                  *********************

                   ; CODIGO
                                           ORG             ROM
  8000 7F 00 00                            CLR             cantC
.                  ; INICIALIZO LAS VARIABLES
  8003 7F 00 01                            CLR             cantC+1
  8006 7F 00 02                            CLR             cantN
  8009 7F 00 03                            CLR             cantN+1
  800C 7F 00 04                            CLR             cantO
  800F 7F 00 05                            CLR             cantO+1
  8012 18 CE 00 06                         LDY             #(VECTOR)
.                  ; Y = DIR 1ER ELEM VECTOR
                   BUCLE
  8016 18 EC 00                            LDD             0,Y
.                  ; BUCLE SE REPITE "CICLOS" VECES
  8019 26 08                               BNE             NO_CERO
.                  ; (?Z=0). IF(!D==0) -> SALTA A NO_CERO
  801B 7C 00 01                            INC             cantC+1
.                  ; IF(D==0) -> cantC(Low)++
  801E 26 03                               BNE             NO_CERO
.                  ; (?Z=0). SI cantC(Low) QUEDO EN CERO DESPUES DE SUMAR, cantC
.                  (High)++.
  8020 7C 00 00                            INC             cantC
.                  ; cantC(High)++
                   NO_CERO
  8023 4D                                  TSTA
.                  ; (A-0)
  8024 2A 08                               BPL             NO_NEG
.                  ; (?N=0). IF(!D<0) -> SALTA A NO_NEG
  8026 7C 00 03                            INC             cantN+1
.                  ; IF(D<0) -> cantN(L)++
  8029 26 03                               BNE             NO_NEG
.                  ; (?Z=0). SI cantN(Low) QUEDO EN CERO DESPUES DE SUMAR, cantN
.                  (High)++.
  802B 7C 00 02                            INC             cantN
.                  ; cantN(High)++
                   NO_NEG
  802E CE 00 08                            LDX             #MULTIPLO
.                  ; X = MULTIPLO
  8031 02                                  IDIV
.                  ; D/X->X , r->D
  8032 4D                                  TSTA
.                  ; (A-0). SE ANALIZA "A" POR SI EL RESTO FUESE POR EJ. 256 (B
.                  SERIA $00).
  8033 26 0B                               BNE             NO_MULTIPLO
.                  ; IF(!A==0) -> SALTA A NO_MULTIPLO
  8035 5D                                  TSTB
.                  ; (B-0). SI r=0 (ES MULTIPLO) -> Z=0
  8036 26 08                               BNE             NO_MULTIPLO
.                  ; IF(!B==0) -> SALTA A NO_MULTIPLO
  8038 7C 00 05                            INC             cantO+1
.                  ; IF(A==0 && B==0) -> cantO(L)++
  803B 28 03                               BVC             NO_MULTIPLO
  ADDR B1 B2 B3 B4 thrass11.tmp                                     PAGE       7

.                  ; (?V=0). SI NO HUBO OVERFLOW, SALTA.
  803D 7C 00 04                            INC             cantO
.                  ; cantO(High)++
                   NO_MULTIPLO
                   ;                       INY
.                  ; Y+1 -> Y
                   ;                       INY
.                  ; Y+1 -> Y (2 VECES)
  8040 18 EE 00                            LDY             0,Y
.                  ; IDEM A INY (2 VECES)
  8043 18 8C 02 06                         CPY             #(VECTOR+CICLOS*2)
.                  ; #(VECTOR+CICLOS*2) = DIR ULTIMO ELEM VECTOR. (*2 PORQUE LOS
.                  ELEM DEL VECTOR SON DE 2 BYTES)
  8047 26 CD                               BNE             BUCLE
.                  ; IF(Y==DIR ULTIMO ELEM VECTOR) -> SALE DEL BUCLE (SINO
.                  REPITE "CICLOS" VECES).
  8049 20 FE       FIN                     BRA             FIN

  Symbol Table 

  RAM                0000
  NO_NEG             802E
  CICLOS             0100
  VECTOR             0006
  CANTC              0000
  BUCLE              8016
  CANTN              0002
  CANTO              0004
  MULTIPLO           0008
  FIN                8049
  NO_CERO            8023
  ROM                8000
  NO_MULTIPLO        8040
